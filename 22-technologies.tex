\chapter{Technische Umsetzungen}
% Kurzbeschreibung, Löst welches Problem?, Vorteile/Nachteile, Verbreitung

\subsection{DNSSEC}

Wie in \ref{sec:DNSSecurity} ausführlich beschrieben, erfüllt des DNS System selbst keinerlei Schutzziele der Informationssicherheit. DNSSEC, als eine Sammlung an IETF-Spezifikationen, erweitert DNS mit dem Ziel die Integrität und Authentizität der Ressourceneinträge sicherzustellen (\cite{Arends2005}). Dies wird über die krypographische Signatur der Einträge erreicht. Um die Signaturen validieren zu können, wird eine Chain-Of-Trust genützt, die ihren Ankerpunkt im von der ICANN veröffentlichten DNSSEC-Root-Key besitzt. Der Umstand, dass die ICANN somit als "single point of trust" fungiert und somit den Grundgedanken der "Verteiltheit des Internets" unterwandert ist einer der Hauptkritikpunkte an DNSSEC. Des weiteren findet die Erweiterung aufgrund der langen Entwicklungszeit, der (verglichen zum DNS-Protokoll) hohen Komplexität und dem erhöhtem administrativem Aufwand, nur wenig anklang. Seit der finalen Veröffentlichen 2005 konnten zwar 90 Prozent der TLD Betreibenden zum signieren ihrer Zonen bewegt werden, die Verbreitung signierter 2LDs ist mit ca. 4 Prozent jedoch viel zu gering um Maßgeblich zur Sicherheit des globalen DNS beizutragen (http://rick.eng.br/dnssecstat/). Zusätzlich wurde das Schutzziel der Vertraulichkeit bewusst bei der Konzeptionierung ausgeklammert. Aufgrund verschiedenster Entwicklungen der nahen Vergangenheit ((Türkei, Deutschland, USA Prism, etc)) ist der Bedarf nach einer vertrauten Möglichkeit zur Auflösung von Namen im Internet stark angestiegen. Betrachtet man nun zusätzlich den Umstand, dass das DNSSEC Netzwerkprotokoll noch stärker als reines DNS, für DoS-Amplification genützt werden kann, ist klar warum diese Spezifikationssammlung so wenig positive Resonanz erhält.

% Problem mit Privacy ist, dass der ISP oder der Staat auch einfach SNI oder IP Kommunikation untersuchen kann. Damit lassen sich Verkehrsdaten ähnlicher Qualtität bilden. Privicy ist also nicht das beste Argument.
% In Conclusio Hinweis auf die Tatsache, dass die CoT zur Zeit die einzige, einfache (weil DNSCrypt auch) darstellt, um die Authentizität gut zu prüfen. 
% TODO: CIAA-Quarttet in DNSSecurity beschrieben https://www.eosgmbh.de/schutzziele-cia-und-ciaa

\subsection{DNSCurve}

Aufgrund der schlechten Akzeptanz und dem fehlenden Schutz der Vertraulichkeit veröffentlichte der US-amerikanische Kryptograph Daniel J. Bernstein (auch bekannt als DJB) eine eigene Lösung namens DNSCurve. Diese dient zur Sicherstellung einer vertraulichen und authentischen Kommunikation zwischen rekursiv auflösendem Server und den authentitiven Servers. Sie baut auf dem, von DJB entwickelten, elliptische Kurven-Kryptosystem Curve25519 auf und verwendet so, im vergleich zu DNSSEC, welches RSA einsetzt, elliptic curve cryptography (ECC), für asymmetrische Operationen. Außerdem wird der, ebenfalls selbst entwickelte, Poly1305 message authentication code (MAC) für die Verschlüsselung und Echtheitsprüfung der Nachrichten eingesetzt. Der Einsatz von ECC sorgt, im Vergleich zu RSA, für eine signifikante Verbesserung der Performance bei der Schlüsselaushandlung, da weit kürzerer Schüssel bei gleichbleibender Sicherheit eingesetzt werden können\cite{Gupta2002}. Der in RFC7905 spezifizierten Poly1305 Algorithmus ist ebenfalls auf Geschwindigkeit, unter Einhaltung der Sicherheitsansprüche, optimiert\cite{Bernstein2005}. Somit war DNSCurve, bei dessen Veröffentlichung 2009, DNSSEC, speziell im Bereich Performance, weit überlegen. Da der höhere Leistungsansprüche der Validierung bis Heute eine starkes Argument gegen den Einsatz von DNSSEC dargestellt, wurde DNSCurve, trotz des ungewöhlichen Algorithmen, durchaus positiv aufgenommen \cite{Henry2013}. Dies Überrascht, da DNSCurve, wie D. Kaminsky feststellt, ein konzeptionellen Problem im Bereich des "Trust Establishment" Prozesses ausweißt \cite{Kaminsky2011}. Das Protokoll verlässt sich beim Auffinden der öffentlichen Schüssel auf einen speziellen NS-Eintrag der zu Ziel-DNS-Domäne. Da DNSCurve ohne Erweiterungen des DNS-Protokolls auskommt, wird dieser Eintrag alleinig durch dessen spezielles Format aufgefunden. Darüber hinaus wird der Schlüssel in den NS-Eintrag selbst kodiert. Ein Angreifer in aktiven MitM Position, könnte somit, durch simples Umschreiben des Eintrags, eine Kommunikation über DNSCrypt unterbinden. Selbst wenn kein Fallback zur Klartextkommunikation erfolgt, besteht noch immer die Möglichkeit, ein eigenes Schlüsselpaar zu generieren und den öffentlichen Schüssel des Ziels gegen einen eigenen zu tauschen. In der Spezifikation scheint zwar die Möglichkeit zum Aufbau einer CoT auf, da eine zentrale Vertrauensinstanz bewusst fehlt, wird diese jedoch von Kaminsky als "ineffektiv" bezeichnet, da sie laut ihm keine zufriedenstellende Lösung des Problems "Key Management" birgt. Es ist somit fraglich, ob DNSCurve in der Lage ist die Vertraulichkeit und Authentizität von DNS sicherzustellen.

%Einfall: Das Problem lässt sich in mehrere Teil gleidern: Authentizität des Eintrags selbst, Authentizität der Antwort der Server, Authentizität der Antwort des Resolvers, Vertaulichkeit der Anfrage/Antwort zwischen Client und Recursive Server, Vertraulichkeit zwischen Recursive Server und Dns Servern, Vertraulichkeit gegenüber Operating der "Zwischenserver"   

\subsection{DNSCrypt}

Zusätzlich zu DNSCurve und DNSSEC wurde 2011 das Netzwerkprotokoll DNSCrypt entwickelt. Dieses ähnelt DNSCurve im grundlegenden Aufbau insofern es die von DJB entwickelten Algorithmen Curve25519 und Poly1305 zum Schlüsselaustausch und zur Überprüfung der Nachrichten verwendet und das DNS Netzwerkprotokoll ohne weiter Modifikationen für die Kommunikation einsetzt. Der größte Unterschied liegt darin, dass DNSCrypt die kommunikation zwischen Resolver und rekursivem DNS Server schützt. Um dies zu erreichen, werden kurzlebige Zertifikate eingesetzt, welche zur Verschlüsselung der Anfragen und Validierung der Antworten eingesetzt werden. Diese Zertifikate sind mit einem langlebigen Schüssel signiert, wobei der öffentliche Schüssel von jedem Client explizit in eine Liste an vertrauenswürdigen Schüsseln aufgenommen werden muss.\cite{Denis2016} Dies umgeht zwar die konzeptionelle Schwäche von DNSCrypt formal, ist jedoch ohne entsprechende Unterstützungsmethoden unpraktikabel. Eine in manchen Implementierungen verwendete Lösung nach dem "Trust-on-first-use"-Prinzip (TOFU) wird als nicht zuverlässig erachtet.\cite{Wendlandt2008} Somit stellt DNSCrypt, ähnlich wie DNSCurve, zwar eine sichere  Möglichkeit zum Übertragen von DNS-Anfragen und Antworten an den auflösenden DNS Server dar, vernachlässigt jedoch ebenfalls das zentrale Thema des "Schlüsselmanagements".    

\subsection{DNS-over-TLS}

Das Kernproblem der DNS Security besteht in der fehlender Authentizität und Vertraulichkeit der Übertragung. Diesen Umstand hat DNS mit vielen älteren Netzwerkprotokollen gemein, speziell im Internetumfeld ist HTTP, neben DNS, eines der verbreitetsten Protokolle. Als Lösung für HTTP wurde SSL bzw. TLS festgelegt, welches, nach seiner Spezifizierung 2000, das meist genützte Transportverschlüsselungsprotokoll der TCP/IP-Suite wurde. Es liegt also die Sicherheitsschwäche von DNS ebenfalls mit TLS als Transportprotokoll zu beheben. Das Problem besteht dabei in der ursprünglichen Intention DNS Verbindungslos auszulegen, ob das Protokoll so simpel und effizient wie möglich zu gestalten. Da TLS ein verbindungsorientiertes Protokoll (meistens TCP) als Trägerprotokoll verlangt, stehen diese Anforderungen im Widerspruch zueinander. Der Zeitaufwand für das Aufbauen einer Verbindung, zusammen mit dem erhöhten Ressourcenaufwand auf der Serverseite wurde lange Zeit als finales Gegenargument gegen den Einsatz von DNS über TCP (DNS-T) verwendet. Wie jedoch Zhu et at. 2015 feststellen konnte, ist dieses Argument für moderne Systeme nicht mehr zulässig \cite{Zhu2015}. Das anbieten von DNS über TLS (DNS-over-TLS; DoT) wurde in den IETF Dokumenten RFC7858\cite{Hu2016} und RFC8310\cite{Dickinson2018} spezifiziert und ist daher sein 2016 als sichere Methode zur Übertragung von DNS Anfragen und Antworten zwischen 2 Endpunkten zu betrachten. Die Aufgabe der Quellenauthentizitätskontrolle wurde auf das TLS Protokoll übertragen und folgt damit den selben Mechanismen die schon von HTTPS bekannt sind. Die über ein X509 Zertifikat authentisierende Gegenstelle wird im Zuge des TLS-Handshake über vorinstallierte Stammzertifikate von Zertifizierungsstellen authentifiziert. Die Vertrauensstellung zu den Zielservern ist daher implizit transitiv über das Vertrauen zur ausstellenden Stelle des Serverzertifikats hergestellt.        

\subsection{DNS-over-HTTPS}

Einen mit DoT vergleichbaren Ansatz wählt die im IETF Draft "DNS Queries over HTTPS" (DoH) beschriebene Technologie \cite{Mcmanus2018}. Diese Technik nützt HTTPS statt TLS als Trägerprotokoll und ermöglicht damit auch nativen Web Applikation die Auflösung von DNS Anfragen. Der Entwurf sieht zusätzlich die Möglichkeit einer "Server Push" Funktion vor, welche es DoH-DNS-Servers erlaubt, von sich aus Pakete an Clients zu senden. Es wird argumentiert, dass so der Auflösungsprozess beschleunigt werden kann, da zusätzlich zur eigentlichen Anfrage, zugehörige, andere Einträge mitgesendet werden können. Diese müssen dann nicht nochmals angefragt werden, sondern sind schon im Cache des Resolvers geladen. Zusätzlich soll es möglich sein, die bestehende HTTP-Caching-Infrastruktur für DoH-Anfragen mitzubenützen. Die Funktionsweise im Hinblick auf Vertraulichkeit und Authentizität unterscheidet sich nicht von DoT und ist somit grundlegend valide.

\section{QNAME minimisation}

\section{EncDNS & Oblivious DNS}

\section{Alternative Ansätze: Namecoin, GNS, RAINS}

\section{Übersicht}
% Eher in conclusio?
% Tabelle aus Paper "Grothoff, C., Wachs, M., Ermert, M., & Appelbaum, J. (2018). Toward secure name resolution on the internet. Computers and Security. https://doi.org/10.1016/j.cose.2018.01.018"