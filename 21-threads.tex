\chapter{Bedrohungen}
% Oberflächlich allgemein! TRICHTER!

\section{Authentizität}
\label{sec:Thread-Auth}

Wie in den Anfängen des World-Wide-Webs und dessen Transportprotokoll HTTP ist auch bei der Konzeptionierung der DNS Protokolls keine Rücksicht auf Sicherheitsaspekte wie Integrität und Vertraulichkeit genommen worden. Da DNS nach RFC1035 auf jede Form von Authentifizierung verzichtet, ist auch ein Prüfen der Identität der jeweiligen Gegenstelle, sowie der eigentlichen Nutzdaten, nicht vorgesehen. Dies birgt jedoch eine hohe Anfälligkeit auf Man-in-the-Middle Attacken mit sich. Ein Angreifer, dem es gelingt, sich aus Sicht des Netzwerks, zwischen eine der beteiligten Komponenten zu positionieren, hat komplette Kontrolle über den Informationsfluss zwischen den betroffenen Geräten. Sollte sich der Angreifer zwischen Endgerät und Recursive Resolver befinden, kann jede DNS-Interaktion nach belieben manipuliert werden. Solle es dem Angreifer gelingen sich vor einem Authoritativem DNS-Server zu stellen, können alle Anfragen und Antworten an die von diesem Server bereitgestellten Domänen manipuliert werden. 

Die verteilte Natur von DNS sorgt zusätzlich dafür, dass Einträge für lange Zeit verändert werden können, ohne dass es eine einfache Form der Sanierung gibt. Dies ist dem Umstand geschuldet, dass der Angreifer den Wert der Time-To-Live (TTL), welcher die Lebenszeit der Eintrage im Cache anderer Server festlegt, beliebig verändern kann. Somit können Caching Resolver die eine sehr hohe maximale TTL konfiguriert haben über einen großen Zeitraum hinweg beeinflusst werden.

Wie in Abschnitt \ref{sec:DNS} beschrieben baut sich das DNS aus verschiedenen Zonen auf, die wiederum aus Einträgen (Resource Records; RR) bestehen. Obwohl das Format und der Aufbau der beschreibenden Zonen-Files klar spezifiziert ist, wurde im System keine Möglichkeit zur Prüfung der Authentizität vorgesehen. Somit ist es weder für die Server-Software noch für die empfangenen Clients möglich die Unversehrtheit und Quellenauthentizität der Einträge zu prüfen. Dieser Umstand stellt eine der zentralen Schwachstellen der aktuellen DNS Infrastruktur dar und ist Grundlage für verschiedenste Angriffe.

 Eine weiter Angriffsmöglichkeit bietet das sogenannte \textit{BitSquatting}. Bei diesem Angriff werden zufällige Fehler im Speicher von Geräten ohne fehlererkennenden Speichermodulen ausgenützt \cite{Dinaburg2011}. Da es dadurch zu falschen Anfragen kommt, gibt es auch keine Möglichkeit sich auf Protokoll- bzw. System-Ebene zu schützen. Die einzige effektive Lösung stellt der Einsatz von "Error-correcting code memory" Hardware dar.  


\section{Vertraulichkeit}

Das Internet als globale, vernetzende Technologie, rück immer weiter in den Mittelpunkt der Telekommunikation. Damit verbunden ist der steigende Bedarf an Sicherheit und Schutz dieses Gesamtsystem. Die IETF behandelt dieses Thema in verschiedensten RFCs, wobei Privicy einen der Schwerpunkte darstellt. Mit der 2013 veröffentlichten RFC6973 \textit{Privacy Considerations for Internet Protocols} wurde der Grundstein für die aktive Förderung von vertraulicher Kommunikation im Internet gelegt \cite{Cooper2013}. 
Für den DNS Kontext wichtiger ist die darauf aufbauenden RFC7626 \textit{DNS Privacy Considerations}\cite{Bortzmeyer2015} welche die Relevanz von DNS Privicy klar macht. Im speziellen wird auf die notwendige Unterscheidung zwischen der freien Zugänglichkeit der DNS Daten an sich und der Öffentlichkeit der Anfragen aufmerksam gemacht. Das plakatives Beispiel wird die Website der Anonymen Alkoholiker genannt, die öffentlich Zugänglich ist, wobei die personenbezogenen Zugriffsdaten auf keinen Fall öffentlich gemacht werden dürfen. Da DNS in im ursprünglichen Konzept jedoch keine Unterscheidung macht, sind die Anfragedaten für alle Zwischenstellen einfach lesbar. Darüber hinaus, existiert kein Schutz der Vertraulichkeit der Übertragung, was es jeder Zwischenstelle das einsehen aller Anfragen und Antworten erlaubt.
Das Problem der fehlenden Transportsicherheit betrifft die Sicherheit des DNS allgemein, ein weniger behandeltes, jedoch für die Privicy ebenso relevantes Problem stellt die Vertraulichkeit der Anfragen selbst da. Trotz bestehendem Schutz des Transports wäre es vielen Stellen der DNS-Auflösungskette möglich die Anfragedaten mit Personen oder zumindest Clients zu verknüpfen. Dieser Umstand wird durch die in RFC7871 spezifizierte Technik \textit{EDNS0 Client Subnet} zusätzlich verschärft, da damit die aktiver Erhaltung kritischer Informationen durch die Komponenten möglich wird \cite{Contavalli2016}. Wie in der \textit{Privacy Note} der RFC7871 beschrieben sind solche Vorhaben jedoch mit größter Vorsicht und auf keinen Fall gegen den Willen der Nutzenden einzusetzen. Der 2017 eingebrachte Entwurf zum einführen einer ClientID\cite{Licht2017} wurde zur Unterstützung des Privicy-Gedanken nicht weiter verfolgt.

\section{Nutzung als DoS-Amplifier}
\label{sec:Thread-DosAmp}

Die Nutzbarkeit von DNS als Verstärker (Amplifier) von DoS Attacken ist schon länger bekannt und wurde auch schon früher als Problem erkannt \cite{ICANN2006}. Nach dem Anual Wordwide Infrastructure Security Report 2017 befindet sich DNS als Trägertechnologie von DoS-Attacken auf Platz 1 \cite{Alcoy2017}. Die leichte Ausnutzbarkeit und schlechte Zurückverfolgbarkeit macht DNS neben NTP zu den beliebtesten Verstärkungsmethoden. Wie Anagnostopoulos et al.\cite{Anagnostopoulos2013} und van Rijswijk-Deij et at.\cite{VanRijswijk-Deij2014} zeigen konnte besteht darüber hinaus das Problem, dass DNSSEC die Situation bei steigender Verbreitung weiter verschärft. Mithilfe von DNSSEC konnte ein durchschnittlichen Verstärkungsfaktor von 47,2 erreicht werden, wobei die maximale Verstärkungsrate bei DNS ohne DNSSEC bei 12,8 liegt. Dieser Umstand ist auf die mit DNSSEC eingeführte Erweiterung EDNS0 zurückzuführen, die es ermöglicht Antworten, die größer als die ursprüngliche Grenze von 512 bytes sind, zu empfangen. Es konnte gezeigt werden, dass 90\% der offenen Resolver maximale Packetgrößen von 4k bytes unterstützen, was bei einer Anfragegröße von 40 byte einen maximalen Verstärkungsfaktor von 102,4 zulassen würde. Dies birgt zusammen mit anderen Kritikpunkten ein massives Hemmnis für die Verbreitung von DNSSEC und ist unter anderem ein Grund für die schlechte Verbreitungsrate. Das Kernproblem liegt hier jedoch an dem eingesetztem Transportprotokoll UDP zusammen mit dem Umstand, dass DNS keinerlei Authentifizierung des Clients verlangt. Betrachtet man andere Protokolle mit ähnlichen Bedingungen (z.B. NTP) zeichnet sich ein ähnliches Bild. Der Vorwurf an DNSSEC als Verursacher der DoS-Amplifikation Problematik ist somit kritisch zu betrachten.
